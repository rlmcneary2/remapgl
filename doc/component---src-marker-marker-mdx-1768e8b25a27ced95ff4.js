(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"hq+L":function(e,t,r){"use strict";r.r(t);r("5hJT"),r("W1QL"),r("K/PF"),r("t91x"),r("75LO"),r("PJhk");var n=r("SAVP"),a=r("TjRS"),o=r("ZFoC"),c=(r("2Tod"),r("ABKx"),r("mXGw")),i=r.n(c),u=r("j81c"),l=(r("dtzt"),r("bhPm"));function s(e,t,r){var n=r.onDrag,a=r.onDragend,o=r.onDragstart;Object(c.useEffect)(function(){if(e&&n)return e.on("drag",r),function(){e.off("drag",r)};function r(){n&&n(t)}},[e,n,t]),Object(c.useEffect)(function(){if(e&&a)return e.on("dragend",t),function(){e.off("dragend",t)};function t(){e&&a&&a(e.getLngLat())}},[e,a]),Object(c.useEffect)(function(){if(e&&o)return e.on("dragstart",t),function(){e.off("dragstart",t)};function t(){e&&o&&o(e.getLngLat())}},[e,o])}function f(e,t,r){var n=t.anchor,a=t.color,o=t.draggable,c=t.offset,i={anchor:n,color:a,element:r,draggable:o};c&&(i.offset=new l.Point(c.x,c.y));var u=new l.Marker(i).setLngLat([0,0]).addTo(e);return[u,function(){return u.remove()}]}s&&s===Object(s)&&Object.isExtensible(s)&&!s.hasOwnProperty("__filemeta")&&Object.defineProperty(s,"__filemeta",{configurable:!0,value:{name:"connectMarkerEventListeners",filename:"src/marker/marker-logic.ts"}}),f&&f===Object(f)&&Object.isExtensible(f)&&!f.hasOwnProperty("__filemeta")&&Object.defineProperty(f,"__filemeta",{configurable:!0,value:{name:"createMapboxGLMarker",filename:"src/marker/marker-logic.ts"}});var b;r("+jjx"),r("FEHE");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function g(e){var t=e.createMarker,r=e.eventListeners,n=e.props,a=m(e,["createMarker","eventListeners","props"]),o="markerElement"in a&&a.markerElement;console.log("useMarkerState: enter; markerElement="+o+".");var i=Object(c.useState)(b.initial),u=i[0],l=i[1],s=Object(c.useRef)(null),f=Object(c.useRef)(null);return Object(c.useEffect)(function(){if(!1===o||o){var e;if(u===b.initial){console.log("useMarkerState: creating Marker.");var r=o?t(o):t();s.current=r[0],f.current=r[1],e=s.current,l(b.created)}return function(){e&&console.warn("useMarkerState: SHOULD remove Marker but does NOTHING.")}}},[t,s,o,f,u]),Object(c.useEffect)(function(){var e,t;if(!1===o||o)return u===b.created&&(e=j(s.current,n,r),t=function(e,t,r){r.onDrag,r.onDragend,r.onDragstart;var n=m(r,["onDrag","onDragend","onDragstart"]),a=(e.getElement(),Object.keys(n).filter(function(e){return e.startsWith("on")&&"function"==typeof r[e]}));function o(n){return function(a){console.log("useMarkerState: handling "+n+"."),a.stopPropagation();var o=r[n];if(o){t.location;o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},m(t,["location"]),{location:e.getLngLat()}))}}}var c={},i=a,u=Array.isArray(i),l=0;for(i=u?i:i[Symbol.iterator]();;){var s;if(u){if(l>=i.length)break;s=i[l++]}else{if((l=i.next()).done)break;s=l.value}var f=s,b=f.substr(2).toLowerCase();console.log("useMarkerState: creating "+b+" handler."),c[b]=o(f),e.on(f,c[b])}return function(){for(var t in c)e.off(t,c[t]);c=null}}(s.current,n,r),l(b.connected)),function(){e&&e(),t&&t()}},[r,s,o,u,n]),console.log("useMarkerState: exit; marker="+!!s.current+"."),s.current}function j(e,t,r){var n=r.onDrag,a=r.onDragend,o=r.onDragstart;console.log("connectMarkerEventListeners: enter");var c=[];function i(){n&&n(t)}function u(){console.log("useMarkerState: dragend"),e&&a&&a(e.getLngLat())}function l(){e&&o&&o(e.getLngLat())}return e.on("drag",i),c.push(function(){e.off("drag",i)}),console.log("useMarkerState: on dragend"),e.on("dragend",u),c.push(function(){e.off("dragend",u)}),e.on("dragstart",l),c.push(function(){e.off("dragstart",l)}),function(){return c.forEach(function(e){return e()})}}"undefined"!=typeof MarkerCreator&&MarkerCreator&&MarkerCreator===Object(MarkerCreator)&&Object.isExtensible(MarkerCreator)&&!MarkerCreator.hasOwnProperty("__filemeta")&&Object.defineProperty(MarkerCreator,"__filemeta",{configurable:!0,value:{name:"MarkerCreator",filename:"src/hook/useMarkerState/useMarkerState.ts"}}),"undefined"!=typeof MarkerCreatorResult&&MarkerCreatorResult&&MarkerCreatorResult===Object(MarkerCreatorResult)&&Object.isExtensible(MarkerCreatorResult)&&!MarkerCreatorResult.hasOwnProperty("__filemeta")&&Object.defineProperty(MarkerCreatorResult,"__filemeta",{configurable:!0,value:{name:"MarkerCreatorResult",filename:"src/hook/useMarkerState/useMarkerState.ts"}}),"undefined"!=typeof MarkerRemover&&MarkerRemover&&MarkerRemover===Object(MarkerRemover)&&Object.isExtensible(MarkerRemover)&&!MarkerRemover.hasOwnProperty("__filemeta")&&Object.defineProperty(MarkerRemover,"__filemeta",{configurable:!0,value:{name:"MarkerRemover",filename:"src/hook/useMarkerState/useMarkerState.ts"}}),function(e){e.initial="INITIAL",e.created="CREATED",e.connected="CONNECTED"}(b||(b={})),void 0!==b&&b&&b===Object(b)&&Object.isExtensible(b)&&!b.hasOwnProperty("__filemeta")&&Object.defineProperty(b,"__filemeta",{configurable:!0,value:{name:"MarkerState",filename:"src/hook/useMarkerState/useMarkerState.ts"}}),g&&g===Object(g)&&Object.isExtensible(g)&&!g.hasOwnProperty("__filemeta")&&Object.defineProperty(g,"__filemeta",{configurable:!0,value:{name:"useMarkerState",filename:"src/hook/useMarkerState/useMarkerState.ts"}}),j&&j===Object(j)&&Object.isExtensible(j)&&!j.hasOwnProperty("__filemeta")&&Object.defineProperty(j,"__filemeta",{configurable:!0,value:{name:"connectMarkerEventListeners",filename:"src/hook/useMarkerState/useMarkerState.ts"}});var d=r("aD51");function k(e){e.as,e.className;var t=e.location,r=e.popup,n=e.togglePopup,a=e.uid,o=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["as","className","location","popup","togglePopup","uid"]),l=Object(u.b)(),s=g({createMarker:function(){return f(l,o)},eventListeners:o,props:e}),b=Object(c.useState)(!1)[1],p=Object(c.useState)(),O=p[0],m=p[1],j=Object(c.useRef)(!1);Object(c.useEffect)(function(){return b(!0),function(){return console.log("MarkerDefault["+a+"]: removed.")}},[a]),Object(c.useEffect)(function(){s&&s.setLngLat(t)},[t,s]),Object(c.useEffect)(function(){return s&&O&&(s.setPopup(O),j.current=!0),function(){s&&s.setPopup()}},[s,O]),Object(c.useEffect)(function(){s&&(n&&!j.current&&(j.current=!0,s.togglePopup()),!n&&j.current&&(j.current=!1,s.togglePopup()))},[n,s]);var k=r&&r();return Object(d.c)(i.a.Fragment,null,i.a.createElement(i.a.Fragment,{key:a}),k&&i.a.cloneElement(k,{setMapboxglPopup:m}))}function v(e){var t=e.as,r=void 0===t?"div":t,n=e.children,a=e.className,o=e.location,l=e.popup,s=e.togglePopup,b=e.uid,p=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["as","children","className","location","popup","togglePopup","uid"]),O=Object(u.b)(),m=Object(c.useRef)(null),j=g({createMarker:function(e){return f(O,p,e)},eventListeners:p,markerElement:m.current,props:e}),k=Object(c.useState)(!1)[1],v=Object(c.useState)(),y=v[0],h=v[1],M=Object(c.useRef)(!1);Object(c.useEffect)(function(){return k(!0),function(){return console.log("MarkerCustom["+b+"]: removed.")}},[b]),Object(c.useEffect)(function(){j&&j.setLngLat(o)},[o,j]),Object(c.useEffect)(function(){return j&&y&&(j.setPopup(y),M.current=!0),function(){j&&j.setPopup()}},[j,y]),Object(c.useEffect)(function(){j&&(s&&!M.current&&(M.current=!0,j.togglePopup()),!s&&M.current&&(M.current=!1,j.togglePopup()))},[s,j]);var P=l&&l();return Object(d.c)(i.a.Fragment,null,i.a.createElement(r,{className:a,key:b,ref:m},n),P&&i.a.cloneElement(P,{setMapboxglPopup:h}))}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach(function(t){M(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}k&&k===Object(k)&&Object.isExtensible(k)&&!k.hasOwnProperty("__filemeta")&&Object.defineProperty(k,"__filemeta",{configurable:!0,value:{name:"MarkerDefault",filename:"src/marker/marker-default.tsx"}}),v&&v===Object(v)&&Object.isExtensible(v)&&!v.hasOwnProperty("__filemeta")&&Object.defineProperty(v,"__filemeta",{configurable:!0,value:{name:"MarkerCustom",filename:"src/marker/marker-custom.tsx"}});var P=Date.now();function _(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["children"]),n=Object(c.useRef)(""+P++);return 0<i.a.Children.count(t)?Object(d.c)(v,h({},r,{uid:n.current}),t):Object(d.c)(k,h({},r,{uid:n.current}))}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}_&&_===Object(_)&&Object.isExtensible(_)&&!_.hasOwnProperty("__filemeta")&&Object.defineProperty(_,"__filemeta",{configurable:!0,value:{name:"Marker",filename:"src/marker/marker.tsx"}}),r.d(t,"_frontmatter",function(){return w}),r.d(t,"default",function(){return L});var w={};void 0!==w&&w&&w===Object(w)&&Object.isExtensible(w)&&!w.hasOwnProperty("__filemeta")&&Object.defineProperty(w,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/marker/marker.mdx"}});var x={_frontmatter:w},S=a.a;function L(e){var t=e.components,r=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["components"]);return Object(n.b)(S,E({},x,r,{components:t,mdxType:"MDXLayout"}),Object(n.b)("h1",{id:"marker"},"Marker"),Object(n.b)("p",null,"The ",Object(n.b)("inlineCode",{parentName:"p"},"<Marker/>")," component is a child of ",Object(n.b)("a",E({parentName:"p"},{href:"/map"}),"Map"),", it causes a marker to appear at a specific location on a map. Markers can have a ",Object(n.b)("a",E({parentName:"p"},{href:"/popup"}),"Popup")," that provides more information."),Object(n.b)("h2",{id:"props"},"Props"),Object(n.b)(o.c,{of:_,mdxType:"Props"}),Object(n.b)("h2",{id:"associated-types"},"Associated Types"),Object(n.b)("h3",{id:"anchortype"},"AnchorType"),Object(n.b)("p",null,"A string indicating the part of the Marker that should be positioned closest to the coordinate set by location."),Object(n.b)("p",null,Object(n.b)("inlineCode",{parentName:"p"},'"center" | "top" | "bottom" | "left" | "right" | "top-left" | "top-right" | "bottom-left" | "bottom-right"')),Object(n.b)("h3",{id:"point"},"Point"),Object(n.b)("p",null,"A Point geometry object, which has x and y properties representing screen coordinates in pixels."),Object(n.b)("table",null,Object(n.b)("thead",{parentName:"table"},Object(n.b)("tr",{parentName:"thead"},Object(n.b)("th",E({parentName:"tr"},{align:null}),"Property"),Object(n.b)("th",E({parentName:"tr"},{align:null}),"Type"),Object(n.b)("th",E({parentName:"tr"},{align:null}),"Comments"))),Object(n.b)("tbody",{parentName:"table"},Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",E({parentName:"tr"},{align:null}),Object(n.b)("strong",{parentName:"td"},"x")),Object(n.b)("td",E({parentName:"tr"},{align:null}),"number"),Object(n.b)("td",E({parentName:"tr"},{align:null}),"X coordinate in pixels.")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",E({parentName:"tr"},{align:null}),Object(n.b)("strong",{parentName:"td"},"y")),Object(n.b)("td",E({parentName:"tr"},{align:null}),"number"),Object(n.b)("td",E({parentName:"tr"},{align:null}),"Y coordinate in pixels.")))))}L&&L===Object(L)&&Object.isExtensible(L)&&!L.hasOwnProperty("__filemeta")&&Object.defineProperty(L,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/marker/marker.mdx"}}),L.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-marker-marker-mdx-1768e8b25a27ced95ff4.js.map